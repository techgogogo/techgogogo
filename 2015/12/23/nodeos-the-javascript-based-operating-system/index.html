<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.proxy.ustclug.org/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="Node.js的大名相信IT界的同行们都有所耳闻，但NodeOS可能就鲜有人知道了。是的，没有写错，就是NodeOS，一个用Node.js编写的操作系统。NodeOS是一个基于Linux内核的操作系统，一些如硬件交互等关键的性能相关的工作当然还是需要Linux内核来处理了，但所有其他的操作系统功能都是通过Node.js来实现的。整个NodeOS的开发过程历时2年，这个项目的起因简单而迷人:“是否可">
<meta property="og:type" content="article">
<meta property="og:title" content="NodeOS:一个用JavaScript写出来的操作系统">
<meta property="og:url" content="http://yoursite.com/2015/12/23/nodeos-the-javascript-based-operating-system/index.html">
<meta property="og:site_name" content="科技向前冲">
<meta property="og:description" content="Node.js的大名相信IT界的同行们都有所耳闻，但NodeOS可能就鲜有人知道了。是的，没有写错，就是NodeOS，一个用Node.js编写的操作系统。NodeOS是一个基于Linux内核的操作系统，一些如硬件交互等关键的性能相关的工作当然还是需要Linux内核来处理了，但所有其他的操作系统功能都是通过Node.js来实现的。整个NodeOS的开发过程历时2年，这个项目的起因简单而迷人:“是否可">
<meta property="og:image" content="http://techgogogo.com/wp-content/uploads/2015/12/NodeOs进化历程.jpg">
<meta property="og:updated_time" content="2017-07-16T06:45:59.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="NodeOS:一个用JavaScript写出来的操作系统">
<meta name="twitter:description" content="Node.js的大名相信IT界的同行们都有所耳闻，但NodeOS可能就鲜有人知道了。是的，没有写错，就是NodeOS，一个用Node.js编写的操作系统。NodeOS是一个基于Linux内核的操作系统，一些如硬件交互等关键的性能相关的工作当然还是需要Linux内核来处理了，但所有其他的操作系统功能都是通过Node.js来实现的。整个NodeOS的开发过程历时2年，这个项目的起因简单而迷人:“是否可">
<meta name="twitter:image" content="http://techgogogo.com/wp-content/uploads/2015/12/NodeOs进化历程.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'kzlathander'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2015/12/23/nodeos-the-javascript-based-operating-system/"/>





  <title>NodeOS:一个用JavaScript写出来的操作系统 | 科技向前冲</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">科技向前冲</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-startup">
          <a href="/categories/创业" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-fire"></i> <br />
            
            创业
          </a>
        </li>
      
        
        <li class="menu-item menu-item-pm">
          <a href="/categories/产品" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-mobile-phone"></i> <br />
            
            产品
          </a>
        </li>
      
        
        <li class="menu-item menu-item-oversea">
          <a href="/categories/Hacker-News" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-leaf"></i> <br />
            
            海外
          </a>
        </li>
      
        
        <li class="menu-item menu-item-innovation">
          <a href="/categories/创新" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-globe"></i> <br />
            
            创新
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/12/23/nodeos-the-javascript-based-operating-system/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kzlathander">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="科技向前冲">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">NodeOS:一个用JavaScript写出来的操作系统</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-12-23T23:31:53+08:00">
                2015-12-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术/资讯/" itemprop="url" rel="index">
                    <span itemprop="name">资讯</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <div id="article_content" class="article_content"><br><div class="markdown_views"><br><br>Node.js的大名相信IT界的同行们都有所耳闻，但NodeOS可能就鲜有人知道了。是的，没有写错，就是NodeOS，一个用Node.js编写的操作系统。NodeOS是一个基于Linux内核的操作系统，一些如硬件交互等关键的性能相关的工作当然还是需要Linux内核来处理了，但所有其他的操作系统功能都是通过Node.js来实现的。整个NodeOS的开发过程历时2年，这个项目的起因简单而迷人:“是否可能只用Node.js来编写一个操作系统呢？”<br><br><img src="http://techgogogo.com/wp-content/uploads/2015/12/NodeOs进化历程.jpg" alt="NodeOs进化历程"><br><br>### <a name="t0"></a>是时候做些改变<br><br>首先，Node.js自诞生以来所产生的成就相信大家都有目共睹。但操作系统却没见有多大的变化。Unix还是Unix，Linux还是Linux，Windows也还是那个Windows。<br><br>### <a name="t1"></a>每个用户拥有独立的文件系统<br><br>NodeOS引进了一个有意思的范式：如果每个用户都有独立且隔绝的文件系统，那么文件系统的层级架构就变得很简单。因为用户的home目录事实上就变成了文件系统的根目录的层级结构了，这样每个用户就都能随心所欲的安装自己需要的软件，而不需要特殊的权限和配置了，因为这些东西默认就是安装在各自的根目录上面，根本不会影响到其他人。此外，这样做的话还能提高系统安全性。如果黑客攻破了某个用户的账户，那么他充其量也只能访问到该用户的所有文件而已，其他用户的内容他根本看不到。这样的话，黑客就不可能拿下整个操作系统了。<br><br>### <a name="t2"></a>Node.js 和 NPM<br><br>其实仔细想想，一个用Node.js写的操作系统，那不就是意味着所有在NPM上的包都可以为这个操作系统所用吗？现在为止，NPM上面已经有210,735个软件包了。因为几乎每分钟都会有新的包增加到NPM上面，所以不出几年，NodeOS就会拥有上百万的应用了、<br><br>### <a name="t3"></a>应用移植简单<br><br>因为整个NodeOS是基于Linux的内核的，所以所有为某个Linux发行版所编写的应用，只需要做很少的改动就能运行在NodeOS上面了。<br><br>### <a name="t4"></a>不足之处<br><br>当前的NodeOS还不够完整。作为一个服务器操作系统的很多关键功能都还没有提供。比如，BASH工具集还没有实现，所以ps，tail，nano和grep这些你在Linux常用的功能都还没有。<br><br>另外，你还不能把它作为一个桌面操作系统来运行，因为现在还没有GUI的支持。当然，你可以通过JavaScript写几行代码来实现这些工具。但是，默认没有提供这些功能的话，毕竟说不过去了。<br><br>### <a name="t5"></a>安装和示例<br><br>#### Using Docker<br><br>The easiest and quickest way to try out NodeOS is by using the following:<br><br>1.  A computer with either Mac OSX or Linux. It might work with Windows, but I did not try it.<br>2.  Docker.<br>Once you installed Docker, running an instance of NodeOS is easy. All you need to do is execute the following command, and Docker does all the magic:<br><br>    sudo docker run <span class="hljs-attribute">-t</span> <span class="hljs-attribute">-i</span> nodeos/nodeos<br>    <code>&lt;/pre&gt;
    ![2](http://techgogogo.com/wp-content/uploads/2015/12/2.jpg)

    When you run the aforementioned command, Docker automatically downloads the disk image for NodeOS from a repository and performs the installation of NodeOS inside a virtual machine. Once the installation is completed, it opens an SSH session to the NodeOS shell.

    #### Without docker

    There are some reasons why you would want to avoid using Docker, and one being the latest NodeOS version. At the time of writing, the last change to the Docker image of NodeOS was performed two months ago, while the development version was updated six days ago. So, if you want to use the latest version you should definitely get the source code. That’s not too difficult, but it takes a long time. You will need:

1.  A computer with Linux. You can compile it on OS X, but it will take longer since it has to make a cross compilation. The same goes for Windows.
2.  The Linux build utilities (make, g++, gcc, autoconf).
3.  Qemu.
4.  Time. Seriously, a lot.
    Once you have everything, you can proceed with the source code compilation:

1.  Download the project source code:</code>bash git clone git@github.com:NodeOS/NodeOS.git<code>.
2.  Compile it by running following commands:</code>cd NodeOS<code>and</code>npm install<code>.
3.  I am going to quote, word by word, the official documentation: _“Pick some microwave popcorn and go to see a movie. No, really, do it.”_. Yes, it will take that much time, so do something interesting in the meantime.
4.  Run</code>bash npm start<code>to run NodeOS inside Qemu.

    #### Is it working?

    Once the installation is completed, we can check if it is working by executing inside the NodeOS shell the command</code>ls<code>. An output like this should show up:
    &lt;pre&gt;</code>[ ‘etc’, ‘lib’, ‘lib64’, ‘root’, ‘bin’, ‘sys’, ‘usr’, ‘share’, ‘proc’ ]<br>    <code>&lt;/pre&gt;
    If it does, it means some basic commands are working. But, what if we want to display the network card’s IP address? Under Linux, there’s a command called</code>ifconfig<code>that does just that; let’s try it:
    &lt;pre&gt;</code><span class="hljs-command"><span class="hljs-keyword">command</span> <span class="hljs-title">not</span> <span class="hljs-title">found</span>: <span class="hljs-title">ifconfig</span></span><br>    <code>&lt;/pre&gt;
    It looks like the command</code>ifconfig<code>is missing. That is because NodeOS does not have a default</code>ifconfig<code>command. Now, what? Well, it is simple; NodeOS has an integrated package manager (like</code>apt<code>or</code>yum<code>), called</code>npkg<code>, which is based on Node’s NPM and is easy to use. Installing</code>ifconfig<code>is as simple as running the following command:
    &lt;pre&gt;</code>npkg <span class="hljs-keyword">install</span> bin-ifconfig<br>    <code>&lt;/pre&gt;
    If all went well, the command</code>ifconfig<code>should now be available in the shell. If we try to execute it again, an output like this shows up (I put a random MAC address and IP address for obvious reasons):
    &lt;pre&gt;</code><span class="hljs-symbol">eth0:</span> flags=<span class="hljs-number">8863</span>&lt;<span class="hljs-constant">UP</span>,<span class="hljs-constant">BROADCAST</span>,<span class="hljs-constant">SMART</span>,<span class="hljs-constant">RUNNING</span>,<span class="hljs-constant">SIMPLEX</span>,<span class="hljs-constant">MULTICAST</span>&gt; mtu <span class="hljs-number">1500</span><br>      ether <span class="hljs-number">01</span><span class="hljs-symbol">:</span><span class="hljs-number">23</span><span class="hljs-symbol">:</span><span class="hljs-number">45</span><span class="hljs-symbol">:</span><span class="hljs-number">67</span><span class="hljs-symbol">:</span><span class="hljs-number">89</span><span class="hljs-symbol">:ab</span><br>      inet6 <span class="hljs-symbol">f0cd:</span><span class="hljs-symbol">:ef01</span><span class="hljs-symbol">:</span><span class="hljs-number">0203</span><span class="hljs-symbol">:</span><span class="hljs-number">0405</span><span class="hljs-symbol">:</span><span class="hljs-number">181</span>%en1 prefixlen <span class="hljs-number">64</span> scopeid <span class="hljs-number">0x5</span><br>      inet <span class="hljs-number">192.168</span>.<span class="hljs-number">0</span>.<span class="hljs-number">21</span> netmask <span class="hljs-number">0xffffff00</span> broadcast <span class="hljs-number">192.168</span>.<span class="hljs-number">0</span>.<span class="hljs-number">21</span><br>      nd6 options=<span class="hljs-number">1</span>&lt;<span class="hljs-constant">PERFORMNUD</span>&gt;<br>      <span class="hljs-symbol">media:</span> autoselect<br>      <span class="hljs-symbol">status:</span> active<br>    <code>&lt;/pre&gt;
    If your output looks kind of like that, then it is working. You’ve successfully installed your first NodeOS application:</code>ifconfig<code>.

    #### It is working. However, what do we do now with the OS?

    What is the point of having an operating system written in Node.js if you can do the same things (or even fewer things) that you can do on Ubuntu or any other Linux distribution? Well, the whole point is everything is developed by using nothing more than Node.js. It also means we can [develop](http://www.toptal.com/nodejs/why-the-hell-would-i-use-node-js) our applications using nothing more than Node.js. For example, NodeOS does not have a default implementation for the command</code>man<code>, which is used on Linux to display manual pages of other commands. Fear not, implementing it is easy. How, I hear you ask? Simple.

    ![3](http://techgogogo.com/wp-content/uploads/2015/12/3-1.jpg)

    First, let’s install a text editor called Hipster so we can create and edit files by executing the following command:</code>npm install -g hipster@0.15.0<code>. This file editor is simple, and definitely **not** something I would use as an editor for anything else, but it is good enough in this case. Creating files with Hipster is really simple, just run</code>hip filename<code>, like</code>hip package.json<code>; to save press</code>Ctrl + s<code>and to exit press</code>Ctrl + q<code>. For this example I am going to use a code developed by one of the main NodeOS developers, I have not actually implemented it, myself. The original code for our example can be found in [the node-bin-man Git repository](https://github.com/groundwater/node-bin-man).

    Let’s get back to creating our first NodeOS application. As with every Node.js application (or NPM package), we start by creating a</code>package.json<code>file, as in the following example:
    &lt;pre&gt;</code>{<br>      “<span class="hljs-attribute">name</span>“: <span class="hljs-value"><span class="hljs-string">“bin-man”</span></span>,<br>      “<span class="hljs-attribute">version</span>“: <span class="hljs-value"><span class="hljs-string">“0.0.1”</span></span>,<br>      “<span class="hljs-attribute">description</span>“: <span class="hljs-value"><span class="hljs-string">“Format and display manual pages”</span></span>,<br>      “<span class="hljs-attribute">bin</span>“: <span class="hljs-value">{<br>        “<span class="hljs-attribute">man</span>“: <span class="hljs-value"><span class="hljs-string">“man.js”</span><br>      </span>}</span>,<br>      “<span class="hljs-attribute">repository</span>“: <span class="hljs-value"><span class="hljs-string">“<a href="https://github.com/groundwater/node-bin-man" target="_blank" rel="external">https://github.com/groundwater/node-bin-man</a>“</span></span>,<br>      “<span class="hljs-attribute">author</span>“: <span class="hljs-value"><span class="hljs-string">“groundwater”</span></span>,<br>      “<span class="hljs-attribute">license</span>“: <span class="hljs-value"><span class="hljs-string">“MIT”</span></span>,<br>      “<span class="hljs-attribute">dependencies</span>“: <span class="hljs-value">{<br>        “<span class="hljs-attribute">blessed</span>“: <span class="hljs-value"><span class="hljs-string">“~0.0.22”</span><br>      </span>}<br>    </span>}<br>    <code>&lt;/pre&gt;
    The parameters</code>name<code>,</code>version<code>,</code>author<code>,</code>repository<code>,</code>license<code>, and</code>description<code>are self-explanatory. The</code>bin<code>collection is a JSON key/value object containing the command name and an associated JavaScript file. In our example, the</code>man<code>command is associated with the file</code>man.js<code>. The collection,</code>dependencies<code>, contains a list of NPM packages that are needed to use this application. In our example, the author of the code included Blessed, a curses-like library with a high-level terminal interface API for Node.js.

    Now let’s go to the main part, the actual code.
    &lt;pre&gt;</code><span class="hljs-shebang">#!/usr/bin/env node</span><br>    <code>&lt;/pre&gt;
    This part is called “shebang”. It is not actually required by NodeOS, but it tells an operating system how to execute the following code. In our case, it tells the interpreter that everything needs to be executed with the command</code>/usr/bin/env node<code>.
    &lt;pre&gt;</code><span class="hljs-keyword">var</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">‘fs’</span>);<br>    <span class="hljs-keyword">var</span> blessed = <span class="hljs-built_in">require</span>(<span class="hljs-string">‘blessed’</span>);<br>    <code>&lt;/pre&gt;
    Just like in Node.js, the function</code>require()<code>loads the selected package into memory and saves it to the specified variable.
    &lt;pre&gt;</code><span class="hljs-keyword">var</span> arg = process.argv[<span class="hljs-number">2</span>] || <span class="hljs-string">‘bin-man’</span>;<br>    <code>&lt;/pre&gt;
    The standard behavior of a</code>man<code>command is to tell a manual about itself if no other command is specified. Our code example is doing the same: If no argument is specified for the second parameter (the first being man itself), it defaults to bin-man.
    &lt;pre&gt;</code><span class="hljs-keyword">var</span> path = process.env.HOME + <span class="hljs-string">“/lib/node_modules/“</span> + arg + <span class="hljs-string">“/README.md”</span>;<br><br>    <span class="hljs-keyword">try</span>{<br>      <span class="hljs-keyword">var</span> readme = fs.readFileSync(path, <span class="hljs-string">‘utf-8’</span>);<br>    }<span class="hljs-keyword">catch</span>(e){<br>      console.log(<span class="hljs-string">‘No README.md for Package ‘</span>,arg);<br>      process.<span class="hljs-keyword">exit</span>(-<span class="hljs-number">1</span>);<br>    }<br>    <code>&lt;/pre&gt;
    At this point, the program checks if a readme file exists for the given application. In NodeOS, the installation path of every application is the home directory (or</code>/<code>) followed by the directory</code>lib/node_modules<code>. If the file</code>README.md<code>exists, it saves its content inside the variable</code>readme<code>. Otherwise, it shows an error and exits the process.
    &lt;pre&gt;</code><span class="hljs-comment">// Create a screen object.</span><br>    <span class="hljs-keyword">var</span> screen = blessed.screen();<br><br>    <span class="hljs-keyword">var</span> box = blessed.box({<br>      content: readme,<br>      alwaysScroll:<span class="hljs-constant">true</span>,<br>      scrollable: <span class="hljs-constant">true</span>,<br>    });<br><br>    <span class="hljs-comment">// Append our box to the screen.</span><br>    screen.<span class="hljs-built_in">append</span>(box);<br>    <code>&lt;/pre&gt;
    Blessed has a really simple API; showing the content of a file is as easy as telling it to create a</code>box<code>and loading the content.
    &lt;pre&gt;</code>screen.key([<span class="hljs-string">‘escape’</span>, <span class="hljs-string">‘q’</span>, <span class="hljs-string">‘C-c’</span>], <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ch, key)</span> {</span><br>      <span class="hljs-keyword">return</span> process.<span class="hljs-keyword">exit</span>(<span class="hljs-number">0</span>);<br>    });<br>    <code>&lt;/pre&gt;
    Now, let’s create a way to exit the</code>man<code>application. We combine the keys</code>escape<code>,</code>q<code>or the emacs-style combination</code>C-c<code>to exit the process.
    &lt;pre&gt;</code>screen.key([<span class="hljs-string">‘space’</span>,<span class="hljs-string">‘f’</span>,<span class="hljs-string">‘j’</span>,<span class="hljs-string">‘n’</span>], <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ch, key)</span> {</span><br>      box.scroll(box.height);<br>      screen.render();<br>    });<br><br>    screen.key([<span class="hljs-string">‘down’</span>], <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ch, key)</span> {</span><br>      box.scroll(<span class="hljs-number">1</span>);<br>      screen.render();<br>    });<br><br>    screen.key([<span class="hljs-string">‘up’</span>], <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ch, key)</span> {</span><br>      box.scroll(-<span class="hljs-number">1</span>);<br>      screen.render();<br>    });<br><br>    screen.key([<span class="hljs-string">‘b’</span>,<span class="hljs-string">‘k’</span>,<span class="hljs-string">‘p’</span>], <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ch, key)</span> {</span><br>      box.scroll(-box.height);<br>      screen.render();<br>    });<br>    <code>&lt;/pre&gt;
    We use the directional keys to scroll up or down one row and the keys</code>space<code>,</code>f<code>,</code>j<code>or</code>n<code>to scroll down a page (as many lines as there are on the screen). Use</code>b<code>,</code>k<code>or</code>p<code>to do the reverse.
    &lt;pre&gt;</code>box<span class="hljs-preprocessor">.focus</span>()<span class="hljs-comment">;</span><br>    screen<span class="hljs-preprocessor">.render</span>()<span class="hljs-comment">;</span><br>    <code>&lt;/pre&gt;
    Finally, we tell the application to focus on the</code>box<code>we created and render the whole thing. Let’s put those files in the directory</code>/lib/node_modules/bin-man<code>and let’s add a simple</code>README.md<code>, something like this:
    &lt;pre&gt;</code><span class="hljs-comment"># Man</span><br><br>    Author: <span class="hljs-variable">@groundwater</span><br><br>    <span class="hljs-comment">## Install</span><br><br>    npkg install bin-man<br><br>    <span class="hljs-comment">## Usage</span><br><br>    <span class="hljs-string"><code>&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;`
    Usage: man PKGNAME

    Display a packages README.md file
    `&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;</code></span><br><br>We are almost done with our first custom application for NodeOS. Only one last small step remains; we need to create a config file since it is a requirement for NodeOS applications. It is as simple as creating a file in the path <code>/etc/bin-man/config.json</code> with the following content: <code>{}</code>, an empty JSON object. Now, we can try our new application. Running <code>man</code> inside the NodeOS shell should show the readme file we created earlier.<br><br>### <a name="t6"></a>结语<br><br>通过上面的示例，我们可以看到在NodeOS实现任何功能都是非常简单的事情，你只需要熟悉Node.js就足够了。<br><br>NodeOS拥有非常巨大的发展潜力，我相信它必然会发展成一个伟大的操作系统。当然，里面还有很多功能我们需要支持和完善，但是作为Node.js整个生态系统中很重要的一员，我相信NodeOS很快就会流行起来。如果您有不同看法的话，请在评论上给出来一块探讨。<br>&gt; 注：更多文章请关注公众号:techgogogo或个人博客<a href="http://techgogogo.com/" target="_blank" rel="external">http://techgogogo.com</a>。当然，也非常欢迎您直接微信(zhubaitian1)勾搭。本文由天地会珠海分舵编译自<a href="http://www.toptal.com/nodejs/nodeos-the-javascript-based-operating-system" target="_blank" rel="external">Toptal</a>。转载请自觉。<br></div><br></div>
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/12/14/five-things-you-need-to-know-about-hadoop-v-apache-spark/" rel="next" title="2分钟读懂大数据框架Hadoop和Spark的异同">
                <i class="fa fa-chevron-left"></i> 2分钟读懂大数据框架Hadoop和Spark的异同
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/01/31/10-secret-facts-about-apples-product-design/" rel="prev" title="苹果产品设计中鲜为人知的10个细节">
                苹果产品设计中鲜为人知的10个细节 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="kzlathander" />
          <p class="site-author-name" itemprop="name">kzlathander</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">235</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">25</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">95</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">kzlathander</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
